import java.util.Scanner;

public class Principal {

	public static void main(String[] args) {
		int opc;
		Libro libros[] = null;
		Autor autores[] = null;
		int numLibros;
		Scanner t=new Scanner(System.in);
		do{
			menu();
			opc=Leer.pedirEntero("Elija una opcion");
			switch(opc){
			case 1:
				String titulo;
				double precio;
				int cantidad;
				int numAutor;
				String nombre,correo,genero;
				numLibros=Leer.pedirEntero("Cuantos libros quieres crear ?.");
				libros=new Libro[numLibros];
				numAutor=Leer.pedirEntero("Cuantos autores tendra el libro");
				autores =new Autor[numAutor];
				for(int indice=0;indice<numLibros;indice++){
					titulo=Leer.pedirCadena("titulo del libro "+numLibros);
					for(int k=0;k<numAutor;k++){
						nombre=Leer.pedirCadena("Introduzca el nombre del autor");
						correo=Leer.pedirCadena("Introduzca el correo del autor");
						genero=Leer.pedirCadena("Introduzca el nombre del autor Hombre (H) Mujer (M)");
						validarGenero(genero);
						autores[k]=new Autor(nombre,correo,genero);
					}
					precio=Leer.pedirDouble("Introcuzca el precio del libro");
					cantidad=Leer.pedirEntero("Cuantos libros de estos tendrá");
					libros[indice]=new Libro(titulo,autores,precio,cantidad);
				}

				break;
			case 2:

				String nombreAutor;
				nombreAutor=Leer.pedirCadena("Introduce el nombre del autor que quiere modificar");
				String nuevoNombre,nuevoCorreo;
				char nuevoGenero;

				String nuevoGeneroString = null;
				for(int indice=0;indice<autores.length;indice++){
					if(autores[indice].getNombre().equals(nombreAutor)){

						modificarAutor();
						opc=Leer.pedirEntero("");
						if(opc==1){

							nuevoNombre=Leer.pedirCadena("Introduzca el nuevo nombre");
							autores[indice].setNombre(nuevoNombre);
						}
						if(opc==2){
							nuevoCorreo=Leer.pedirCadena("Introduzca el nuevo correo");
							autores[indice].setCorreo(nuevoCorreo);
						}
						if(opc==3){
							System.out.println("Introduzca el nuevo genero");
							nuevoGenero=t.nextLine().charAt(0);
							nuevoGeneroString += nuevoGenero;
							validarGenero(nuevoGeneroString);
							autores[indice].setGenero(nuevoGenero);
						}
					}else{
						Leer.mostrarEnPantalla("El "+nombreAutor+" no existe");
					}
				}//for para recorrer 

				break;
			case 4:
				for(int i=0;i<libros.length;i++){
					System.out.println(libros[i].cadenaLibro());
				}
				break;
			}
		}while(opc!=0);
		t.close();

	}//main
	public static  void menu (){
		System.out.println("1 - Crear libros");
		System.out.println("2 - Modificar Autor");
		System.out.println("3 - Modificar libro");
		System.out.println("4 - Listado de libros");
		System.out.println("5 - Listado de autores");
		System.out.println("0 - Salir");

	}
	public static void modificarAutor(){

		System.out.println("1 - Modificar nombre del Autor");
		System.out.println("2 - Modificar el correo del autor");
		System.out.println("3 - Modificar el genero del autor/a");
	}
	public static String validarGenero(String caracter){
		char letra=caracter.charAt(0);
		String letraAux="";
		if(caracter.equalsIgnoreCase("H") || caracter.equalsIgnoreCase("M")){
			letraAux+=letra;
		}
		return letraAux;
	}
	
}//class